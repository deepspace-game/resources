<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEEPSPACE Resources Chart</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
    <meta http-equiv="Pragma" content="no-cache">
    <base target="_blank">
    <script type="text/javascript" src="https://d3js.org/d3.v7.min.js"></script>
    <script type="text/javascript">
        mediumFormatDecimal = d3.format(",.2f");
        largeFormatDecimal = d3.format(",.4f");

// Get the current URL
const currentURL = window.location.href;
let resourcesURL = ""

// Check if the URL contains "resources.deepspace.game"
if (currentURL.includes("resources.deepspace.game")) {
  // Use the variable with a specific value
  resourcesURL = "https://resources.deepspace.game/api";
  console.log(resourcesURL);
} else if (currentURL.includes("dev-resources.deepspace.game")) {
  // Adjust the variable value for dev-resources.deepspace.game
  resourcesURL = "https://dev-resources.deepspace.game/api";
  console.log(resourcesURL);
} else {
  // Handle other cases if needed
  resourcesURL = "https://resources.deepspace.game/api";
  console.log("URL does not match expected patterns");
}

        fetch(resourcesURL)
            .then(response => response.json())
            .then(data => {
		console.log(data);
                const tableBody = document.getElementById('data');
                data.forEach(item => {
                    let resourceType = '';
                    switch (item.poolId) {
                        case 0:
                            resourceType = 'Iron';
                            break;
                        case 1:
                            resourceType = 'Seplium';
                            break;
                        case 2:
                            resourceType = 'Hydrogen';
                            break;
                        case 3:
                            resourceType = 'Fenna';
                            break;
                        case 4:
                            resourceType = 'Bedasine';
                            break;
                        case 5:
                            resourceType = 'Netherite';
                            break;
                        case 6:
                            resourceType = 'Xanifarium';
                            break;
                        case 7:
                            resourceType = 'Promethium';
                            break;
                        default:
                            resourceType = 'N/A';
                    }
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${resourceType}</td>
                        <td>${largeFormatDecimal(item.dpsBalance)}</td>
                        <td>${mediumFormatDecimal(item.resourceBalance)}</td>
                        <td>${mediumFormatDecimal(item.price)}</td>
                    `;
                    tableBody.appendChild(row);
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    </script>
</head>
<body>
<h1>DEEPSPACE Resources Chart</h1>
<h2>About DEEPSPACE</h2>
<p><b>Welcome to DEEPSPACE!</b><br/>
DEEPSPACE is an immersive space exploration strategy game that offers a captivating gaming experience. Dive into a universe of strategy and adventure with your fleet of ships! Engage in harvesting resources, trading NFTs, and navigating through thrilling space battles. As you explore the vastness of DEEPSPACE, you'll encounter unique challenges and opportunities. Get ready to strategize, explore, and engage in epic space adventures in the DEEPSPACE universe!
<br/>
Learn more at: <a href="https://deepspace.game">https://deepspace.game</a><br/>
Buy DEEPSPACE (DPS) at: <a href="https://app.deepspace.game">https://app.deepspace.game</a>
</p>
	
<p><i>Tip: Check the console log for the full JSON response from the resources api</i></p>
<p>Pro Tip: Command Supported: <a href="https://resources.deepspace.game/api">https://resources.deepspace.game/api</a></p>
<br/>
    <table>
        <thead>
            <tr>
                <th>Resource Name</th>
                <th>DPS Balance</th>
                <th>Resource Balance</th>
                <th>Price (DPS)</th>
            </tr>
        </thead>
        <tbody id="data"></tbody>
    </table>
</body>
</html>
